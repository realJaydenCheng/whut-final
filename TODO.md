
# TODO

## 后台功能：创建数据库

先完成通用的数据管道，即先完成后台管理的基本功能。

系统在这一块的业务流程是：建库-导入。对应的技术操作是：创建index，向es写入数据和元数据。

建库是确定项目数据结构的过程。对于一个选题数据库，必须的字段其实只有两个：选题和时间。选题字段是做统计分析的基础，时间是做趋势分析的基础。剩下的还包括分类字段、标识字段和信息字段。分类字段是用来在聚合分析和检索时，作为筛选条件的；标识字段是存储如姓名、编号等在聚合和分析屎用处不大但又必要的信息的；信息字段是存储如摘要、简介等非结构化但包含丰富信息的文本内容，可用于自然语言处理和语言模型作参考使用。在技术处理上，主要是以字符串或文本形式存储，对于分类字段，建立额外的索引；对于选题和信息字段，提前分词并使用倒排索引存储。

数据库在创建后，对应的还有删查功能。暂不考虑修改功能，原因是元数据修改后对应的数据库中的数据没法修改。

导入分为两种情况，一种是用户导入，一种是专业导入。用户导入时用户从ui界面上传数据文件，然后写入到系统中；专业导入是提前写好脚本，在ui界面提供按钮（可升级为编辑器）运行脚本。脚本可由多种灵活的数据获取、处理和导入能力，比如直接采集（爬虫）、从数据库读取、模拟生成等。

## 通用功能：用户管理

创建数据库以及数据库访问需要带上用户管理的部分。用户可简单的分为两类，一个是普通的用户，即需要选题的人，账户的作用是存储其个人信息；一个是数据管理员，即往年数据提供者。

## 贡献

提出了一种分析科研项目数据的范式，实现一种通用的分析科研项目数据的系统。

帮助用户在引导下提供必要的信息，借助本系统有效且检索增强的提示，智能生成富含参考价值的选题。

评分虽然在理论和实验统计下是可行的，但其有效性和对用户的指导价值需要专家的意见。

可以继续迭代，完成基于用户信息的推荐。

- 对比模型参数和评估指标，选一个模型(intfloat/multilingual-e5-large-instruct)
 列出模型测试评估数据
 模型部署细节（存储路径dir，推理设备cuda）

- es如何存储向量实现rag，langchain是否有相关文档
 创建一个向量字段
 如何批量算得向量并存储
 以什么形式初始化模型

- 存储专利数据

分别采样出学术和专利两个文档集合
找文献构造和ai生成多对描述向量
挑出两者差异最大的一对描述
可视化 分布 一维二维

## 用户界面TODO

~~未登录情况下无法进入注册页面。~~
~~layout左上角logo和标题。~~
默认情况下不是进入登陆界面。

学术价值；
高度的创新性和前瞻性，学术界有影响，贡献于科学理论，推动了不同领域的融合；
系统的较专门的学问、观点、主张、学风和本领等，探究性的活动
创造高深知识的，具有专业性、风险性、曲折性、连续性和未知性

应用价值
有明显的市场应用潜力，行业内有影响，贡献于实践领域，提供了关键技术或方法；
研究成果转化和产业化，与经济发展有联系，参与政府或社会的服务
结合实际需求，产出可以解决并满足社会经济发展需要的科技成果

取的发明专利标题和知网论文数据各1000条的embedding，数据结构为

 类型，文本，嵌入向量

计算所有prompt的embedding，分别命名为 学术abcd 和 应用abcd

将各个prompt的嵌入 和所有的文本的嵌入 都算一遍余弦相似度，将相似度的值存储到对应文本嵌入的 prompt名字列中。数据结构为

类型，文本，嵌入向量，学术a，学术b，....,应用c，应用d

分析各个prompt的区分度，即一个prompt下，不同类型文本的相似度差距/分布的差距

理论上需要说明：科研项目标题和论文标题/专利标题存在不同；论文更体现学术价值，专利更体现应用价值；两者并不是绝对，所以分不上存在重叠是合理的。

创新性的度量，说明的不是标新立异，而是说明主题的内涵是否在两年间出现变化。

系统用例图主要是实现，比如可视化是浏览热门和趋势的实现。

# 时序图

智能生成时序图：用户输入，数据库RAG，拼接prompt，大模型响应

todo：

1. ~~修改复杂搜索的bug，默认显示国创的筛选~~
2. ~~逻辑查询功能，加按钮~~
3. 修改学校数据，用来检索而非分类筛选
4. 添加自创的数据支持
5. 添加另一个创新项目数据的支持
6. 查询页添加导出，管理页添加模板
