{
    "cells": [
        {
            "language": "markdown",
            "source": [
                "\r\n## refs\r\n\r\nhttps://github.com/microsoft/vscode-jupyter/discussions/9317\r\n\r\nhttps://marketplace.visualstudio.com/items?itemName=donjayamanne.typescript-notebook\r\n\r\n"
            ],
            "outputs": []
        },
        {
            "language": "typescript",
            "source": [
                "// 连通性\r\nimport axios from 'axios';\r\n\r\naxios.get(\r\n    'http://127.0.0.1:8000/api',\r\n).then((response) => {\r\n    console.log(response.data);\r\n})"
            ],
            "outputs": [
                {
                    "items": [
                        {
                            "mime": "application/vnd.code.notebook.stdout",
                            "value": [
                                "{ message: \"Testing message: 'Hello World!'\" }",
                                "",
                                ""
                            ]
                        }
                    ]
                }
            ]
        },
        {
            "language": "markdown",
            "source": [
                "## 账号管理"
            ],
            "outputs": []
        },
        {
            "language": "typescript",
            "source": [
                "// 正常注册\r\nimport axios from 'axios';\r\n\r\naxios.post(\r\n    'http://127.0.0.1:8000/api/user/register',\r\n    {\r\n        id: \"13657290357\",\r\n        name: \"Test00\",\r\n        privilege: 0,\r\n        password_hash: \"0xffffff\",\r\n        org_name: \"whut\",\r\n    },\r\n).then((response) => {\r\n    console.log(response.data);\r\n    console.log(response.headers[\"set-cookie\"]);\r\n})\r\n\r\n"
            ],
            "outputs": [
                {
                    "items": [
                        {
                            "mime": "application/vnd.code.notebook.stdout",
                            "value": [
                                "{ message: 'register success!' }",
                                "undefined",
                                "",
                                ""
                            ]
                        }
                    ]
                }
            ]
        },
        {
            "language": "typescript",
            "source": [
                "// 账号不存在\r\nimport axios from 'axios';\r\n\r\naxios.post(\r\n    'http://127.0.0.1:8000/api/user/login',\r\n    {\r\n        id: \"10086\",\r\n        password_hash: \"0xffffff\",\r\n    },\r\n).then((response) => {\r\n    console.log(response.data);\r\n    console.log(response.headers[\"set-cookie\"]);\r\n})\r\n"
            ],
            "outputs": [
                {
                    "items": [
                        {
                            "mime": "application/vnd.code.notebook.stdout",
                            "value": [
                                "{ message: 'login failed!' }",
                                "",
                                ""
                            ]
                        }
                    ]
                }
            ]
        },
        {
            "language": "typescript",
            "source": [
                "// 密码错误\r\nimport axios from 'axios';\r\n\r\naxios.post(\r\n    'http://127.0.0.1:8000/api/user/login',\r\n    {\r\n        id: \"13657290358\",\r\n        password_hash: \"0xffff00\",\r\n    },\r\n).then((response) => {\r\n    console.log(response.data);\r\n    console.log(response.headers[\"set-cookie\"]);\r\n})\r\n"
            ],
            "outputs": [
                {
                    "items": [
                        {
                            "mime": "application/vnd.code.notebook.stdout",
                            "value": [
                                "{ message: 'login failed!' }",
                                "[",
                                "  'user_id=\"\"; expires=Sun, 07 Apr 2024 03:53:29 GMT; Max-Age=0; Path=/; SameSite=lax',",
                                "  'user_name=\"\"; expires=Sun, 07 Apr 2024 03:53:29 GMT; Max-Age=0; Path=/; SameSite=lax',",
                                "  'user_privilege=\"\"; expires=Sun, 07 Apr 2024 03:53:29 GMT; Max-Age=0; Path=/; SameSite=lax',",
                                "  'org_name=\"\"; expires=Sun, 07 Apr 2024 03:53:29 GMT; Max-Age=0; Path=/; SameSite=lax'",
                                "]",
                                "",
                                ""
                            ]
                        }
                    ]
                }
            ]
        },
        {
            "language": "typescript",
            "source": [
                "// 正常登录\r\nimport axios from 'axios';\r\n\r\naxios.post(\r\n    'http://127.0.0.1:8000/api/user/login',\r\n    {\r\n        id: \"13657290357\",\r\n        password_hash: \"0xffffff\",\r\n    },\r\n).then((response) => {\r\n\r\n    console.log(response.data);\r\n    console.log(response.headers[\"set-cookie\"]);\r\n})\r\n"
            ],
            "outputs": [
                {
                    "items": [
                        {
                            "mime": "application/vnd.code.notebook.stdout",
                            "value": [
                                "{ message: 'login success!' }",
                                "[",
                                "  'user_id=13657290357; Path=/; SameSite=lax',",
                                "  'user_name=Test00; Path=/; SameSite=lax',",
                                "  'user_privilege=0; Path=/; SameSite=lax',",
                                "  'org_name=None; Path=/; SameSite=lax'",
                                "]",
                                "",
                                ""
                            ]
                        }
                    ]
                }
            ]
        },
        {
            "language": "typescript",
            "source": [
                "// 登出\r\nimport axios from 'axios';\r\n\r\naxios.get(\r\n    'http://127.0.0.1:8000/api/user/logout',\r\n).then((response) => {\r\n    console.log(response.data);\r\n    console.log(response.headers[\"set-cookie\"]);\r\n})\r\n"
            ],
            "outputs": [
                {
                    "items": [
                        {
                            "mime": "application/vnd.code.notebook.stdout",
                            "value": [
                                "{ message: 'logged out!' }",
                                "[",
                                "  'user_id=\"\"; expires=Sun, 07 Apr 2024 03:53:31 GMT; Max-Age=0; Path=/; SameSite=lax',",
                                "  'user_name=\"\"; expires=Sun, 07 Apr 2024 03:53:31 GMT; Max-Age=0; Path=/; SameSite=lax',",
                                "  'user_privilege=\"\"; expires=Sun, 07 Apr 2024 03:53:31 GMT; Max-Age=0; Path=/; SameSite=lax',",
                                "  'org_name=\"\"; expires=Sun, 07 Apr 2024 03:53:31 GMT; Max-Age=0; Path=/; SameSite=lax'",
                                "]",
                                "",
                                ""
                            ]
                        }
                    ]
                }
            ]
        },
        {
            "language": "markdown",
            "source": [
                "## 数据库管理"
            ],
            "outputs": []
        },
        {
            "language": "typescript",
            "source": [
                "// 正常创建数据库\r\nimport axios from 'axios';\r\n\r\naxios.post(\r\n    'http://127.0.0.1:8000/api/db/create',\r\n    {\r\n        name: \"test_db_00\",\r\n        org_name: \"public\",\r\n        title_field: \"项目名称\",\r\n        time_field: \"立项时间\",\r\n        cate_fields: [\"学科\", \"分类\", \"类型\"],\r\n        id_fields: ['承办者', '指导老师'],\r\n        text_fields: ['项目摘要'],\r\n    },\r\n    {\r\n        withCredentials: true,\r\n        headers: {\r\n            Cookie: [\r\n                'user_id=13657290357; Path=/; SameSite=lax',\r\n                'user_name=Test00; Path=/; SameSite=lax',\r\n                'user_privilege=0; Path=/; SameSite=lax',\r\n            ]\r\n        }\r\n    }\r\n).then((response) => {\r\n    console.log(response.data);\r\n    console.log(response.headers[\"set-cookie\"]);\r\n})\r\n"
            ],
            "outputs": [
                {
                    "items": [
                        {
                            "mime": "application/vnd.code.notebook.stdout",
                            "value": [
                                "{ message: 'test_db_00 created.' }",
                                "undefined",
                                "",
                                ""
                            ]
                        }
                    ]
                }
            ]
        },
        {
            "language": "typescript",
            "source": [
                "// 合法缺省创建数据库\r\nimport axios from 'axios';\r\n\r\naxios.post(\r\n    'http://127.0.0.1:8000/api/db/create',\r\n    {\r\n        name: \"test_db_01\",\r\n        org_name: \"whut\",\r\n        title_field: \"名称\",\r\n        time_field: \"时间\",\r\n        cate_fields: [],\r\n        id_fields: [],\r\n        text_fields: [],\r\n    },\r\n    {\r\n        withCredentials: true,\r\n        headers: {\r\n            Cookie: [\r\n                'user_id=13657290357; Path=/; SameSite=lax',\r\n                'user_name=Test00; Path=/; SameSite=lax',\r\n                'user_privilege=0; Path=/; SameSite=lax',\r\n            ]\r\n        }\r\n    }\r\n).then((response) => {\r\n    console.log(response.data);\r\n    console.log(response.headers[\"set-cookie\"]);\r\n})\r\n"
            ],
            "outputs": [
                {
                    "items": [
                        {
                            "mime": "application/vnd.code.notebook.stdout",
                            "value": [
                                "{ message: 'test_db_01 created.' }",
                                "undefined",
                                "",
                                ""
                            ]
                        }
                    ]
                }
            ]
        },
        {
            "language": "typescript",
            "source": [
                "// 获取数据库列表\r\nimport axios from 'axios';\r\n\r\naxios.get(\r\n    'http://127.0.0.1:8000/api/db/list',\r\n).then((response) => {\r\n    console.log(response.data);\r\n    console.log(response.headers[\"set-cookie\"]);\r\n})\r\n"
            ],
            "outputs": [
                {
                    "items": [
                        {
                            "mime": "application/vnd.code.notebook.stdout",
                            "value": [
                                "[",
                                "  {",
                                "    id: '3e4a03c2-81f1-4ee6-ab8a-732e88ef10fa',",
                                "    user_id: '17171140358',",
                                "    create_time: '2024-04-15',",
                                "    name: 'test测试03',",
                                "    org_name: 'public',",
                                "    title_field: '研究主题',",
                                "    time_field: '开题时间',",
                                "    cate_fields: [ '学院', '专业', '大类', '年级' ],",
                                "    id_fields: [ '姓名', '学号', '导师' ],",
                                "    text_fields: [ '课题背景', '研究摘要', '相关综述' ],",
                                "    user_name: 'Test02'",
                                "  },",
                                "  {",
                                "    id: '7ba43424-eb5c-4e4b-bf68-ecd3edb7beca',",
                                "    user_id: '13657290357',",
                                "    create_time: '2024-04-15',",
                                "    name: 'test_db_temp',",
                                "    org_name: 'public',",
                                "    title_field: '名称',",
                                "    time_field: '时间',",
                                "    cate_fields: [ '类型', '学科' ],",
                                "    id_fields: [ '负责人' ],",
                                "    text_fields: [ '描述' ],",
                                "    user_name: 'Test00'",
                                "  }",
                                "]",
                                "undefined",
                                "",
                                ""
                            ]
                        }
                    ]
                }
            ]
        },
        {
            "language": "typescript",
            "source": [
                "// 删除测试数据库\r\nimport axios from 'axios';\r\n\r\naxios.get(\r\n    'http://127.0.0.1:8000/api/db/list',\r\n).then((response) => {\r\n\r\n    const db_list = Array.from(response.data);\r\n    console.log(db_list.length);\r\n    db_list.forEach((element:any) => {\r\n\r\n        console.log(element.id);\r\n\r\n        const db_id: string = element.id;\r\n        const db_name: string = element.name;\r\n\r\n        if ( ! db_name.startsWith(\"test\")) {\r\n            return;\r\n        }\r\n\r\n        axios.post(\r\n            'http://127.0.0.1:8000/api/db/delete?db_id=' + db_id,\r\n            {},\r\n            {\r\n                withCredentials: true,\r\n                headers: {\r\n                    Cookie: [\r\n                        'user_id=13657290357; Path=/; SameSite=lax',\r\n                        'user_name=Test00; Path=/; SameSite=lax',\r\n                        'user_privilege=0; Path=/; SameSite=lax',\r\n                    ]\r\n                }\r\n            }\r\n\r\n        ).then((res) => {\r\n            console.log(res.data);\r\n            console.log(res.headers[\"set-cookie\"]);\r\n        });\r\n\r\n    });\r\n\r\n});\r\n\r\n\r\n"
            ],
            "outputs": [
                {
                    "items": [
                        {
                            "mime": "application/vnd.code.notebook.stdout",
                            "value": [
                                "1",
                                "",
                                "undefined",
                                ""
                            ]
                        }
                    ]
                }
            ]
        },
        {
            "language": "typescript",
            "source": [
                "import axios from 'axios';\r\nimport FormData from 'form-data';\r\nimport fs from 'fs';\r\n\r\n// 创建临时数据库\r\naxios.post(\r\n    'http://127.0.0.1:8000/api/db/create',\r\n    {\r\n        name: \"test_db_temp\",\r\n        org_name: \"public\",\r\n        title_field: \"名称\",\r\n        time_field: \"时间\",\r\n        cate_fields: [\"类型\", \"学科\"],\r\n        id_fields: [\"负责人\"],\r\n        text_fields: [\"描述\"],\r\n    },\r\n    {\r\n        withCredentials: true,\r\n        headers: {\r\n            Cookie: 'user_id=13657290357; user_name=Test00; user_privilege=0',\r\n        }\r\n    }\r\n).then(response => {\r\n    console.log('Database Created:', response.data);\r\n    return axios.get('http://127.0.0.1:8000/api/db/list');\r\n}).then(response => {\r\n    const databases = response.data;\r\n    console.log(\"databases: \", databases)\r\n    const db = databases.find(db => db[\"name\"] === \"test_db_temp\");\r\n    const db_id = db ? db.id : null;\r\n    console.log('Database ID :', db_id);\r\n\r\n    // 上传文件部分\r\n    const formData = new FormData();\r\n    formData.append('db_id', db_id);\r\n    formData.append('data_files', fs.createReadStream('./test-r.csv'));\r\n\r\n    return axios.post(\r\n        'http://127.0.0.1:8000/api/db/import',\r\n        formData,\r\n        {\r\n            headers: {\r\n                ...formData.getHeaders(),\r\n                Cookie: 'user_id=13657290357; user_name=Test00; user_privilege=0',\r\n            }\r\n        }\r\n    );\r\n}).then(response => {\r\n    console.log('File Uploaded:', response.data);\r\n}).catch(error => {\r\n    console.error('Error:', error.response ? error.response.data : error.message);\r\n});\r\n"
            ],
            "outputs": [
                {
                    "items": [
                        {
                            "mime": "application/vnd.code.notebook.stdout",
                            "value": [
                                "Database Created: { message: '已创建test_db_temp', status: true }",
                                "Database ID : 395c496f-0b3b-4ead-b068-a9f458b7b21f",
                                "",
                                ""
                            ]
                        }
                    ]
                }
            ]
        },
        {
            "language": "typescript",
            "source": [
                "import axios from 'axios';\r\n\r\nconst db_id = \"65e94e64-e526-4298-981b-8168eb142605\"\r\n\r\naxios.get(\r\n    `http://127.0.0.1:8000/api/db/detail`,\r\n    {\r\n        params: {\r\n            db_id: db_id\r\n        }\r\n    }\r\n).then(res => {\r\n    console.log(res.data);\r\n})\r\n"
            ],
            "outputs": [
                {
                    "items": [
                        {
                            "mime": "application/vnd.code.notebook.stdout",
                            "value": [
                                "{",
                                "  id: '65e94e64-e526-4298-981b-8168eb142605',",
                                "  name: '国家级大学生创新创业训练项目',",
                                "  title_field: '项目名称',",
                                "  time_field: '立项时间',",
                                "  id_fields: [ '项目编号', '项目主持人', '指导教师' ],",
                                "  text_fields: [ '项目简介' ],",
                                "  cate_fields_detail: {",
                                "    '项目类型': [ '创新训练项目', '创业训练项目', '创业实践项目' ],",
                                "    '项目类别': [ '一般项目', '重点支持领域项目' ],",
                                "    '重点支持领域': [",
                                "      '社会事业与文化传承',",
                                "      '云计算、人工智能和无人驾驶',",
                                "      '新材料及制造技术',",
                                "      '城乡治理与乡村振兴',",
                                "      '绿色环保与固废资源化',",
                                "      '生物技术与生物育种',",
                                "      '新能源与储能技术',",
                                "      '生物医学工程与精准医学、脑科学和类脑计算',",
                                "      '泛终端芯片及操作系统、重大应用软件的应用开发',",
                                "      '泛终端芯片及操作系统应用开发',",
                                "      '重大应用关键软件',",
                                "      '新一代通信技术、千兆光网技术和新一代IP网络通信技术',",
                                "      '第五代通信技术和新一代IP网络通信技术'",
                                "    ],",
                                "    '所属学科门类': [",
                                "      '工学',",
                                "      '管理学',",
                                "      '理学',",
                                "      '医学',",
                                "      '艺术学',",
                                "      '经济学',",
                                "      '文学',",
                                "      '法学',",
                                "      '教育学',",
                                "      '农学',",
                                "      '计算机科学技术',",
                                "      '电子与通信技术',",
                                "      '机械工程',",
                                "      '化学',",
                                "      '材料科学',",
                                "      '生物学',",
                                "      '土木建筑工程',",
                                "      '基础医学',",
                                "      '历史学',",
                                "      '环境科学技术及资源科学技术',",
                                "      '社会学',",
                                "      '信息与系统科学相关工程与技术',",
                                "      '临床医学',",
                                "      '物理学',",
                                "      '动力与电气工程',",
                                "      '食品科学技术',",
                                "      '信息科学与系统科学',",
                                "      '语言学',",
                                "      '地球科学',",
                                "      '中医学与中药学',",
                                "      '药学',",
                                "      '新闻学与传播学'",
                                "    ],",
                                "    '所属专业大类': [",
                                "      '计算机类',         '电子信息类',",
                                "      '机械类',           '材料类',",
                                "      '设计学类',         '化学类',",
                                "      '工商管理类',       '经济学类',",
                                "      '教育学类',         '生物科学类',",
                                "      '基础医学类',       '自动化类',",
                                "      '环境科学与工程类', '土木类',",
                                "      '临床医学类',       '外国语言文学类',",
                                "      '社会学类',         '法学类',",
                                "      '电气类',           '公共管理类',",
                                "      '新闻传播学类',     '物理学类',",
                                "      '食品科学与工程类', '中国语言文学类',",
                                "      '管理科学与工程类', '药学类',",
                                "      '能源动力类',       '数学类',",
                                "      '化工与制药类',     '植物生产类',",
                                "      '电子商务类',       '旅游管理类'",
                                "    ],",
                                "    '所属学校': [",
                                "      '中南大学',         '安徽财经大学',",
                                "      '西北工业大学',     '吉林大学',",
                                "      '厦门大学',         '西安交通大学',",
                                "      '安徽大学',         '四川大学',",
                                "      '安徽师范大学',     '东北林业大学',",
                                "      '西北农林科技大学', '兰州大学',",
                                "      '哈尔滨工程大学',   '西安电子科技大学',",
                                "      '电子科技大学',     '南京大学',",
                                "      '复旦大学',         '浙江大学',",
                                "      '中国农业大学',     '同济大学',",
                                "      '大连理工大学',     '华南理工大学',",
                                "      '华东师范大学',     '华北电力大学',",
                                "      '重庆大学',         '中山大学',",
                                "      '湖南大学',         '西北大学',",
                                "      '东南大学',         '哈尔滨工业大学',",
                                "      '长安大学',         '安徽理工大学'",
                                "    ]",
                                "  }",
                                "}",
                                "",
                                ""
                            ]
                        }
                    ]
                }
            ]
        },
        {
            "language": "typescript",
            "source": [
                "import axios from 'axios';\r\n\r\nconst db_id = \"65e94e64-e526-4298-981b-8168eb142605\"\r\n\r\naxios.post(\r\n    `http://127.0.0.1:8000/api/search`,\r\n    {\r\n        db_id: db_id,\r\n        terms: [\"大数据\", \"平台\"],\r\n        date_range: [2020, 2023],\r\n        filters: {\r\n            \"所属学科门类\": [\"工学\", \"管理学\", \"经济学\"],\r\n            \"所属专业大类\": [\"计算机类\", \"电子信息类\", \"工商管理类\"]\r\n        },\r\n        sub_terms: {\r\n            \"项目简介\": [\"算法\", \"系统\"]\r\n        },\r\n        page: null,\r\n        page_size: 5,\r\n    }\r\n).then(res => {\r\n    console.log(res.data);\r\n})\r\n"
            ],
            "outputs": [
                {
                    "items": [
                        {
                            "mime": "application/vnd.code.notebook.stdout",
                            "value": [
                                "{",
                                "  data: [",
                                "    {",
                                "      '项目名称': '医疗大数据分布式平台',",
                                "      '立项时间': '2021-08-24',",
                                "      '项目类型': '创新训练项目',",
                                "      '项目类别': '一般项目',",
                                "      '所属学科门类': '工学',",
                                "      '所属专业大类': '计算机类',",
                                "      '所属学校': '厦门大学',",
                                "      '项目编号': '202110384269',",
                                "      '项目主持人': '宋海山',",
                                "      '指导教师': '屈小波',",
                                "      '项目简介': '该项目旨在搭建一个医学大数据分析的云平台,项目组通过将所拥有一些人工智能和医学领域相结合的先进算法工程化,融入到云平台中,将理论实际落地。整个系统采用B架构,以web网页的形式提供简单易操作的可视化界面,后端则以微服务的形式来进行开发部署,分布式部署服务和存储使系统得以更加稳定,更加高效地提供医疗数据分析服务。同时保证医用影像信息安全。'",
                                "    },",
                                "    {",
                                "      '项目名称': '基于大数据和WebGIS的 物联网环境监测分析云平台',",
                                "      '立项时间': '2021-08-24',",
                                "      '项目类型': '创新训练项目',",
                                "      '项目类别': '一般项目',",
                                "      '所属学科门类': '工学',",
                                "      '所属专业大类': '计算机类',",
                                "      '所属学校': '河南大学',",
                                "      '项目编号': '202110475098',",
                                "      '项目主持人': '王晨宇',",
                                "      '指导教师': '李静',",
                                "      '项目简介': '本系统平台是结合数采仪等设备建立集在线监测、数据传输、远程监控、统计分析于一体的环保监控系统，对数据进行自动采集、处理、分析，并带有报警功能。平台运用海量存储数据搭建环境监测平台，形成在线连续烟道气体污染物监测系统，数据均是从实时设备数采仪中获取，并通过算法搜索重要信息，经过统计分析、数据处理以图表形式展示给用户。平台实时获取企业生产状况，对各种情况进行处理记录并对污染状况做到提前防治及预警方案。'",
                                "    },",
                                "    {",
                                "      '项目名称': '基于大数据与AI算法的新零售平台',",
                                "      '立项时间': '2020-09-02',",
                                "      '项目类型': '创新训练项目',",
                                "      '所属学科门类': '工学',",
                                "      '所属专业大类': '计算机类',",
                                "      '所属学校': '桂林航天工业学院',",
                                "      '项目编号': '202011825033',",
                                "      '项目主持人': '王进之',",
                                "      '指导教师': '魏士伟',",
                                "      '项目简介': '在互联网经济日益更新的今天，电商越来越深入普通人的生活，深深影响和改变着人们的生活方式，消费模式。从事电商行业的公司与团队越来越多，要想在竞争如此激烈的局面下脱颖而出，就必须拥有全新的电商运营思维，转变电商的运营模式，因此电商“新零售”概念应运而生，简单来说新零售即个人、企业以互联网为依托，通过运用大数据、人工智能等先进技术手段，自己开立网店平台，不再依赖于国内的大型电商平台获取流量招揽客户的零售新模式。此项目的目的是开发一套结合电商销售+引流+商品精准推荐的新零售电商系统为线下厂商/商户落地新零售概念提供一套完整可行的解决方案，本项目是在传统电商行业的基础上, 使用深度学习与智能推荐算法通过分析用户购物行为数据，深度挖掘用户的消费习惯和消费需求，实现向用户精准推荐商品，从而达到提高用户购物效率、提升用户购物体验、提高商品的成交量，并以此来应对新时代的新的商业模式的演变。同时，在功能稳健的基础上，系统采用微服务架构模式实现系统分布式/集群以达到高并发高可用目的。'",
                                "    },",
                                "    {",
                                "      '项目名称': '询他——基于大数据和机器学习的电商咨询平台',",
                                "      '立项时间': '2020-09-02',",
                                "      '项目类型': '创业训练项目',",
                                "      '所属学科门类': '工学',",
                                "      '所属专业大类': '电子信息类',",
                                "      '所属学校': '西南财经大学',",
                                "      '项目编号': '202010651087',",
                                "      '项目主持人': '王蒙恬',",
                                "      '指导教师': '徐宏玲',",
                                "      '项目简介': '询他系统基于大数据背景,通过网络爬虫抓取基础指标，利用不同的数据挖掘技术和预测算法，对微商与中小型电商进行产业评估，并为其提供战略性提建议、充当其后备技术支持，从而解决微商与中小型电商常面临的由于规模过小而无法进行充分的市场调查从而获得市场信息等问题，促进电商行业健康发展。服务包括咨询服务、中介服务、推广服务和其他线下服务'",
                                "    },",
                                "    {",
                                "      '项目名称': '基于区块链技术的医疗大数据共享溯源平台',",
                                "      '立项时间': '2022-09-14',",
                                "      '项目类型': '创业训练项目',",
                                "      '项目类别': '一般项目',",
                                "      '所属学科门类': '工学',",
                                "      '所属专业大类': '计算机类',",
                                "      '所属学校': '桂林电子科技大学',",
                                "      '项目编号': '202210595081X',",
                                "      '项目主持人': '李松泽',",
                                "      '指导教师': '成浩',",
                                "      '项目简介': '本项目致力于解决当今医疗资源分布不平衡，患者的医疗数据只能在一个医疗机构内部进行共享和流转的问题。通过区块链技术对患者的医疗数据在所需的医疗机构进行共享，并结合使用国产SM3密码杂凑算法和SM2数字签名算法的数字签名来保证安全。并添加了病史溯源的功能为医生的诊断增加精确性，以及采用DNA身份证来作为标识读取和记录病人数据。 通过使用本平台不仅支持数据共享，以及对数据的保护，不受各医疗机构医疗信息管理系统的限制，最大程度为用户提供便利，实现医疗资源的合理利用，满足人们自由问诊的需求。'",
                                "    }",
                                "  ],",
                                "  total: 143",
                                "}",
                                "",
                                ""
                            ]
                        }
                    ]
                }
            ]
        },
        {
            "language": "typescript",
            "source": [
                "import axios from 'axios';\r\n\r\nconst db_id = \"65e94e64-e526-4298-981b-8168eb142605\"\r\n\r\naxios.post(\r\n    `http://127.0.0.1:8000/api/charts/vice-trends/new`,\r\n    {\r\n        db_id: db_id,\r\n        terms: null,\r\n        date_range: null,\r\n        filters: null,\r\n        sub_terms: null,\r\n        page: null,\r\n        page_size: 0,\r\n    }\r\n).then(res => {\r\n    // console.log(Object.entries(res.data).length);\r\n    console.log(res.data);\r\n}).catch( err => {\r\n    console.log(err);\r\n});\r\n"
            ],
            "outputs": [
                {
                    "items": [
                        {
                            "mime": "application/vnd.code.notebook.stdout",
                            "value": [
                                "{",
                                "  '非遗': {",
                                "    dates: [",
                                "      2017, 2018,",
                                "      2019, 2020,",
                                "      2021, 2022,",
                                "      2023",
                                "    ],",
                                "    values: [",
                                "       30,  63,  96, 167,",
                                "      289, 469, 768",
                                "    ],",
                                "    percentages: [",
                                "      24.6,",
                                "      11.19047619047619,",
                                "      7,",
                                "      3.5988023952095807,",
                                "      1.6574394463667819,",
                                "      0.6375266524520256",
                                "    ],",
                                "    deltas: [ 33, 33, 71, 122, 180, 299 ],",
                                "    rates: [",
                                "      1.1,",
                                "      0.5238095238095237,",
                                "      0.7395833333333333,",
                                "      0.7305389221556886,",
                                "      0.6228373702422145,",
                                "      0.6375266524520256",
                                "    ]",
                                "  },",
                                "  ai: {",
                                "    dates: [",
                                "      2017, 2018,",
                                "      2019, 2020,",
                                "      2021, 2022,",
                                "      2023",
                                "    ],",
                                "    values: [",
                                "       9, 22, 16, 15,",
                                "      18, 30, 23",
                                "    ],",
                                "    percentages: [",
                                "      1.5555555555555554,",
                                "      0.045454545454545414,",
                                "      0.4375,",
                                "      0.5333333333333334,",
                                "      0.2777777777777777,",
                                "      -0.23333333333333328",
                                "    ],",
                                "    deltas: [ 13, -6, -1, 3, 12, -7 ],",
                                "    rates: [",
                                "      1.4444444444444446,",
                                "      -0.2727272727272727,",
                                "      -0.0625,",
                                "      0.19999999999999996,",
                                "      0.6666666666666667,",
                                "      -0.23333333333333328",
                                "    ]",
                                "  },",
                                "  '乡村振兴背景': {",
                                "    dates: [ 2018, 2019, 2020, 2021, 2022, 2023 ],",
                                "    values: [ 27, 79, 77, 198, 268, 296 ],",
                                "    percentages: [",
                                "      9.962962962962964,",
                                "      2.7468354430379747,",
                                "      2.844155844155844,",
                                "      0.49494949494949503,",
                                "      0.10447761194029859",
                                "    ],",
                                "    deltas: [ 52, -2, 121, 70, 28 ],",
                                "    rates: [",
                                "      1.925925925925926,",
                                "      -0.025316455696202556,",
                                "      1.5714285714285716,",
                                "      0.3535353535353536,",
                                "      0.10447761194029859",
                                "    ]",
                                "  },",
                                "  '红色': {",
                                "    dates: [",
                                "      2017, 2018,",
                                "      2019, 2020,",
                                "      2021, 2022,",
                                "      2023",
                                "    ],",
                                "    values: [",
                                "       29,  96, 155,",
                                "      214, 518, 507,",
                                "      443",
                                "    ],",
                                "    percentages: [",
                                "      14.275862068965518,",
                                "      3.614583333333333,",
                                "      1.8580645161290321,",
                                "      1.0700934579439254,",
                                "      -0.14478764478764483,",
                                "      -0.12623274161735698",
                                "    ],",
                                "    deltas: [ 67, 59, 59, 304, -11, -64 ],",
                                "    rates: [",
                                "      2.310344827586207,",
                                "      0.6145833333333333,",
                                "      0.38064516129032255,",
                                "      1.4205607476635516,",
                                "      -0.021235521235521193,",
                                "      -0.12623274161735698",
                                "    ]",
                                "  },",
                                "  '打造': {",
                                "    dates: [",
                                "      2017, 2018,",
                                "      2019, 2020,",
                                "      2021, 2022,",
                                "      2023",
                                "    ],",
                                "    values: [",
                                "       31,  34,  56, 97,",
                                "      141, 243, 265",
                                "    ],",
                                "    percentages: [",
                                "      7.548387096774194,",
                                "      6.794117647058823,",
                                "      3.7321428571428568,",
                                "      1.731958762886598,",
                                "      0.8794326241134751,",
                                "      0.09053497942386834",
                                "    ],",
                                "    deltas: [ 3, 22, 41, 44, 102, 22 ],",
                                "    rates: [",
                                "      0.09677419354838701,",
                                "      0.6470588235294117,",
                                "      0.7321428571428572,",
                                "      0.45360824742268036,",
                                "      0.7234042553191489,",
                                "      0.09053497942386834",
                                "    ]",
                                "  },",
                                "  '数字化': {",
                                "    dates: [",
                                "      2017, 2018,",
                                "      2019, 2020,",
                                "      2021, 2022,",
                                "      2023",
                                "    ],",
                                "    values: [",
                                "       48,  56,  70, 114,",
                                "      197, 350, 563",
                                "    ],",
                                "    percentages: [",
                                "      10.729166666666666,",
                                "      9.053571428571429,",
                                "      7.042857142857143,",
                                "      3.93859649122807,",
                                "      1.8578680203045685,",
                                "      0.6085714285714285",
                                "    ],",
                                "    deltas: [ 8, 14, 44, 83, 153, 213 ],",
                                "    rates: [",
                                "      0.16666666666666674,",
                                "      0.25,",
                                "      0.6285714285714286,",
                                "      0.7280701754385965,",
                                "      0.7766497461928934,",
                                "      0.6085714285714285",
                                "    ]",
                                "  },",
                                "  '新时代': {",
                                "    dates: [",
                                "      2017, 2018,",
                                "      2019, 2020,",
                                "      2021, 2022,",
                                "      2023",
                                "    ],",
                                "    values: [",
                                "        7, 119,  97, 117,",
                                "      169, 206, 264",
                                "    ],",
                                "    percentages: [",
                                "      36.714285714285715,",
                                "      1.2184873949579833,",
                                "      1.7216494845360826,",
                                "      1.2564102564102564,",
                                "      0.5621301775147929,",
                                "      0.2815533980582525",
                                "    ],",
                                "    deltas: [ 112, -22, 20, 52, 37, 58 ],",
                                "    rates: [",
                                "      16,",
                                "      -0.18487394957983194,",
                                "      0.2061855670103092,",
                                "      0.4444444444444444,",
                                "      0.21893491124260356,",
                                "      0.2815533980582525",
                                "    ]",
                                "  },",
                                "  '赋能': {",
                                "    dates: [",
                                "      2017, 2018,",
                                "      2019, 2020,",
                                "      2021, 2022,",
                                "      2023",
                                "    ],",
                                "    values: [",
                                "       1,   7,  15, 39,",
                                "      94, 304, 570",
                                "    ],",
                                "    percentages: [",
                                "      569,",
                                "      80.42857142857143,",
                                "      37,",
                                "      13.615384615384615,",
                                "      5.0638297872340425,",
                                "      0.875",
                                "    ],",
                                "    deltas: [ 6, 8, 24, 55, 210, 266 ],",
                                "    rates: [",
                                "      6,",
                                "      1.1428571428571428,",
                                "      1.6,",
                                "      1.4102564102564101,",
                                "      2.234042553191489,",
                                "      0.875",
                                "    ]",
                                "  },",
                                "  '国家级': {",
                                "    dates: [",
                                "      2017, 2018,",
                                "      2019, 2020,",
                                "      2021, 2022,",
                                "      2023",
                                "    ],",
                                "    values: [",
                                "      18, 16,  13, 296,",
                                "      64, 53, 103",
                                "    ],",
                                "    percentages: [",
                                "      4.722222222222222,",
                                "      5.4375,",
                                "      6.923076923076923,",
                                "      -0.652027027027027,",
                                "      0.609375,",
                                "      0.9433962264150944",
                                "    ],",
                                "    deltas: [ -2, -3, 283, -232, -11, 50 ],",
                                "    rates: [",
                                "      -0.11111111111111116,",
                                "      -0.1875,",
                                "      21.76923076923077,",
                                "      -0.7837837837837838,",
                                "      -0.171875,",
                                "      0.9433962264150944",
                                "    ]",
                                "  },",
                                "  '新模式': {",
                                "    dates: [",
                                "      2017, 2018,",
                                "      2019, 2020,",
                                "      2021, 2022,",
                                "      2023",
                                "    ],",
                                "    values: [",
                                "       49,  53,  64, 115,",
                                "      114, 166, 174",
                                "    ],",
                                "    percentages: [",
                                "      2.5510204081632653,",
                                "      2.2830188679245285,",
                                "      1.71875,",
                                "      0.5130434782608695,",
                                "      0.5263157894736843,",
                                "      0.04819277108433728",
                                "    ],",
                                "    deltas: [ 4, 11, 51, -1, 52, 8 ],",
                                "    rates: [",
                                "      0.08163265306122458,",
                                "      0.2075471698113207,",
                                "      0.796875,",
                                "      -0.008695652173912993,",
                                "      0.45614035087719307,",
                                "      0.04819277108433728",
                                "    ]",
                                "  }",
                                "}",
                                "",
                                ""
                            ]
                        }
                    ]
                }
            ]
        },
        {
            "language": "typescript",
            "source": [
                "import axios from 'axios';\r\n\r\nconst db_id = \"65e94e64-e526-4298-981b-8168eb142605\"\r\n\r\naxios.post(\r\n    `http://127.0.0.1:8000/api/charts/vice-trends/hot`,\r\n    {\r\n        db_id: db_id,\r\n        terms: null,\r\n        date_range: null,\r\n        filters: null,\r\n        sub_terms: null,\r\n        page: null,\r\n        page_size: 0,\r\n    }\r\n).then(res => {\r\n    // console.log(Object.entries(res.data).length);\r\n    console.log(res.data);\r\n}).catch( err => {\r\n    console.log(err);\r\n});\r\n"
            ],
            "outputs": [
                {
                    "items": [
                        {
                            "mime": "application/vnd.code.notebook.stdout",
                            "value": [
                                "{",
                                "  '研究': {",
                                "    dates: [",
                                "      2017, 2018,",
                                "      2019, 2020,",
                                "      2021, 2022,",
                                "      2023",
                                "    ],",
                                "    values: [",
                                "      10341, 11319,",
                                "      11198, 12735,",
                                "      13050, 15078,",
                                "      15750",
                                "    ],",
                                "    percentages: [",
                                "      0.5230635335073976,",
                                "      0.39146567717996295,",
                                "      0.40650116092159316,",
                                "      0.23674911660777376,",
                                "      0.2068965517241379,",
                                "      0.04456824512534818",
                                "    ],",
                                "    deltas: [ 978, -121, 1537, 315, 2028, 672 ],",
                                "    rates: [",
                                "      0.09457499274731651,",
                                "      -0.010689990281827044,",
                                "      0.13725665297374534,",
                                "      0.02473498233215543,",
                                "      0.15540229885057477,",
                                "      0.04456824512534818",
                                "    ]",
                                "  },",
                                "  '智能': {",
                                "    dates: [",
                                "      2017, 2018,",
                                "      2019, 2020,",
                                "      2021, 2022,",
                                "      2023",
                                "    ],",
                                "    values: [",
                                "      1658, 2103,",
                                "      2294, 2626,",
                                "      2765, 3091,",
                                "      3210",
                                "    ],",
                                "    percentages: [",
                                "      0.9360675512665861,",
                                "      0.5263908701854494,",
                                "      0.3993025283347864,",
                                "      0.22239146991622238,",
                                "      0.16094032549728743,",
                                "      0.03849886768036237",
                                "    ],",
                                "    deltas: [ 445, 191, 332, 139, 326, 119 ],",
                                "    rates: [",
                                "      0.2683956574185766,",
                                "      0.09082263433190674,",
                                "      0.1447253705318221,",
                                "      0.052932216298552826,",
                                "      0.11790235081374312,",
                                "      0.03849886768036237",
                                "    ]",
                                "  },",
                                "  '设计': {",
                                "    dates: [",
                                "      2017, 2018,",
                                "      2019, 2020,",
                                "      2021, 2022,",
                                "      2023",
                                "    ],",
                                "    values: [",
                                "      2652, 2919,",
                                "      2759, 3161,",
                                "      3206, 3581,",
                                "      3555",
                                "    ],",
                                "    percentages: [",
                                "      0.340497737556561,",
                                "      0.21788283658787266,",
                                "      0.2885103298296485,",
                                "      0.12464409996836445,",
                                "      0.10885839051777912,",
                                "      -0.007260541748115079",
                                "    ],",
                                "    deltas: [ 267, -160, 402, 45, 375, -26 ],",
                                "    rates: [",
                                "      0.1006787330316743,",
                                "      -0.054813292223364174,",
                                "      0.14570496556723445,",
                                "      0.014236001265422349,",
                                "      0.11696818465377423,",
                                "      -0.007260541748115079",
                                "    ]",
                                "  },",
                                "  '系统': {",
                                "    dates: [",
                                "      2017, 2018,",
                                "      2019, 2020,",
                                "      2021, 2022,",
                                "      2023",
                                "    ],",
                                "    values: [",
                                "      2751, 2975,",
                                "      2949, 3326,",
                                "      3416, 3861,",
                                "      3965",
                                "    ],",
                                "    percentages: [",
                                "      0.44129407488186123,",
                                "      0.3327731092436974,",
                                "      0.3445235673109528,",
                                "      0.19212266987372217,",
                                "      0.1607142857142858,",
                                "      0.026936026936027035",
                                "    ],",
                                "    deltas: [ 224, -26, 377, 90, 445, 104 ],",
                                "    rates: [",
                                "      0.08142493638676851,",
                                "      -0.008739495798319341,",
                                "      0.12783994574432,",
                                "      0.027059530968129852,",
                                "      0.1302693208430914,",
                                "      0.026936026936027035",
                                "    ]",
                                "  },",
                                "  '制备': {",
                                "    dates: [",
                                "      2017, 2018,",
                                "      2019, 2020,",
                                "      2021, 2022,",
                                "      2023",
                                "    ],",
                                "    values: [",
                                "      1201, 1222,",
                                "      1224, 1312,",
                                "      1341, 1553,",
                                "      1466",
                                "    ],",
                                "    percentages: [",
                                "      0.2206494587843464,",
                                "      0.19967266775777404,",
                                "      0.19771241830065356,",
                                "      0.11737804878048785,",
                                "      0.09321401938851603,",
                                "      -0.056020605280103",
                                "    ],",
                                "    deltas: [ 21, 2, 88, 29, 212, -87 ],",
                                "    rates: [",
                                "      0.017485428809325576,",
                                "      0.0016366612111293755,",
                                "      0.07189542483660127,",
                                "      0.02210365853658547,",
                                "      0.15809097688292328,",
                                "      -0.056020605280103",
                                "    ]",
                                "  },",
                                "  '影响': {",
                                "    dates: [",
                                "      2017, 2018,",
                                "      2019, 2020,",
                                "      2021, 2022,",
                                "      2023",
                                "    ],",
                                "    values: [",
                                "      1504, 1644,",
                                "      1693, 1833,",
                                "      1753, 1937,",
                                "      2043",
                                "    ],",
                                "    percentages: [",
                                "      0.3583776595744681,",
                                "      0.2427007299270072,",
                                "      0.2067336089781453,",
                                "      0.11456628477905073,",
                                "      0.16543069024529378,",
                                "      0.05472379969024255",
                                "    ],",
                                "    deltas: [ 140, 49, 140, -80, 184, 106 ],",
                                "    rates: [",
                                "      0.09308510638297873,",
                                "      0.02980535279805352,",
                                "      0.08269344359125808,",
                                "      -0.0436442989634479,",
                                "      0.1049629207073588,",
                                "      0.05472379969024255",
                                "    ]",
                                "  },",
                                "  '机制研究': {",
                                "    dates: [",
                                "      2017, 2018,",
                                "      2019, 2020,",
                                "      2021, 2022,",
                                "      2023",
                                "    ],",
                                "    values: [",
                                "       408, 591,  682,",
                                "       805, 948, 1194,",
                                "      1403",
                                "    ],",
                                "    percentages: [",
                                "      2.4387254901960786,",
                                "      1.3739424703891707,",
                                "      1.0571847507331378,",
                                "      0.7428571428571429,",
                                "      0.47995780590717296,",
                                "      0.17504187604690125",
                                "    ],",
                                "    deltas: [ 183, 91, 123, 143, 246, 209 ],",
                                "    rates: [",
                                "      0.44852941176470584,",
                                "      0.1539763113367174,",
                                "      0.18035190615835783,",
                                "      0.177639751552795,",
                                "      0.259493670886076,",
                                "      0.17504187604690125",
                                "    ]",
                                "  },",
                                "  '机器人': {",
                                "    dates: [",
                                "      2017, 2018,",
                                "      2019, 2020,",
                                "      2021, 2022,",
                                "      2023",
                                "    ],",
                                "    values: [",
                                "       588, 723,  764,",
                                "       867, 989, 1187,",
                                "      1268",
                                "    ],",
                                "    percentages: [",
                                "      1.1564625850340136,",
                                "      0.7538035961272476,",
                                "      0.6596858638743455,",
                                "      0.4625144175317186,",
                                "      0.28210313447927193,",
                                "      0.06823925863521474",
                                "    ],",
                                "    deltas: [ 135, 41, 103, 122, 198, 81 ],",
                                "    rates: [",
                                "      0.22959183673469385,",
                                "      0.0567081604426003,",
                                "      0.13481675392670156,",
                                "      0.14071510957324107,",
                                "      0.2002022244691608,",
                                "      0.06823925863521474",
                                "    ]",
                                "  },",
                                "  '性能研究': {",
                                "    dates: [",
                                "      2017, 2018,",
                                "      2019, 2020,",
                                "      2021, 2022,",
                                "      2023",
                                "    ],",
                                "    values: [",
                                "      607, 655, 632,",
                                "      759, 819, 907,",
                                "      931",
                                "    ],",
                                "    percentages: [",
                                "      0.5337726523887973,",
                                "      0.4213740458015267,",
                                "      0.4731012658227849,",
                                "      0.22661396574440063,",
                                "      0.1367521367521367,",
                                "      0.026460859977949225",
                                "    ],",
                                "    deltas: [ 48, -23, 127, 60, 88, 24 ],",
                                "    rates: [",
                                "      0.07907742998352552,",
                                "      -0.03511450381679393,",
                                "      0.20094936708860756,",
                                "      0.07905138339920947,",
                                "      0.10744810744810751,",
                                "      0.026460859977949225",
                                "    ]",
                                "  },",
                                "  '新型': {",
                                "    dates: [",
                                "      2017, 2018,",
                                "      2019, 2020,",
                                "      2021, 2022,",
                                "      2023",
                                "    ],",
                                "    values: [",
                                "      710, 735, 763,",
                                "      918, 864, 948,",
                                "      940",
                                "    ],",
                                "    percentages: [",
                                "      0.323943661971831,",
                                "      0.2789115646258504,",
                                "      0.23197903014416776,",
                                "      0.023965141612200425,",
                                "      0.08796296296296302,",
                                "      -0.008438818565400852",
                                "    ],",
                                "    deltas: [ 25, 28, 155, -54, 84, -8 ],",
                                "    rates: [",
                                "      0.035211267605633756,",
                                "      0.03809523809523818,",
                                "      0.2031454783748361,",
                                "      -0.05882352941176472,",
                                "      0.09722222222222232,",
                                "      -0.008438818565400852",
                                "    ]",
                                "  }",
                                "}",
                                "",
                                ""
                            ]
                        }
                    ]
                }
            ]
        },
        {
            "language": "typescript",
            "source": [
                ""
            ],
            "outputs": []
        }
    ]
}